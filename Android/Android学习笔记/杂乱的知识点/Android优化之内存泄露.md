# Android 优化之内存泄露

- 什么是内存泄露:内存不在GC的掌握之内了

## 1.了解几个问题

### 1.垃圾回收机制 GC

 - 总结java的回收机制,某对象不在有任何的引用的时候才会被回收

可以作为GC Root引用点的是:

 - JavaStack中的引用的对象
 - 方法区中静态引用指向的对象
 - 方法区中常量引用指向的对象
 - Native方法中JNI引用的对象
 - Thread--"活着"的线程

### 2.怎么判断一个对象是垃圾对象?  
> 这是一个主观的判断.程序员认为是那么就是

内存泄露多了,容易导致OOM--内存溢出,app会崩溃

## 2.确定我们项目当中或者某几个类里面是否存在内存泄露

### a.粗略判断

Android Monitor->System infomation -> MemoryUsage查看Objects里面是否有没有被释放的Views或者Activity

## 3.确定内存泄露的大致范围

- Android Studio方式:看Memory Monitor工具

检查一个一个的动作(比如Activity的跳转)
反复多次执行某一个动作,不断地通过这个工具查看内存的大概变化情况.
前后两个内存变化增加了不少.

## 4.更仔细地查找泄露的位置

> 在AS里面使用Heap SnapShot工具(堆栈快照)

## 5.
