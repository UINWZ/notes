#一些杂乱的知识点(二)

[TOC]

# 1.menu菜单
1. 添加菜单方式  通过一个布局  在`res`下`menu`目录下创建一个布局
2. 动态的添加菜单
`menu.add(0,1,0,"后退");`
`menu.add(0,2,0,"前进")`
3. 点击`menu`按键弹出一个对话框   如果你想实现自己定义的`view`效果,则需要重写`onMenuOpened()`方法

# 2. AutoCompleteTextView控件的使用

		String[] countries = new String[] { "Belgium",
					"France", "Italy", "Germany", "Spain" };
		AutoCompleteTextView actv_test = (AutoCompleteTextView) findViewById(R.id.actv_test);
		
				//2. 创建adapter
				ArrayAdapter<String> adapter = new ArrayAdapter<>(this,
						android.R.layout.simple_dropdown_item_1line, countries);
				
				//3. 设置adapter
				actv_test.setAdapter(adapter);

# 3. 补间动画
1. 透明

		//1.0意味着着完全不透明 0.0意味着完全透明
		AlphaAnimation aa = new AlphaAnimation(1.0f, 0.0f);
		aa.setDuration(2000); //设置动画执行的时间
		aa.setRepeatCount(1); //设置重复的次数
		aa.setRepeatMode(Animation.REVERSE);//设置动画执行的模式
		//iv开始执行动画 
		iv.startAnimation(aa);
2. 旋转

		//fromDegrees 开始角度   toDegrees 结束角度
		//		RotateAnimation  ra = new RotateAnimation(0, 360);	
		RotateAnimation ra = new RotateAnimation(0, 360, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);
		ra.setDuration(2000); //设置动画执行的时间
		ra.setRepeatCount(1); //设置重复的次数
		ra.setRepeatMode(Animation.REVERSE);//设置动画执行的模式
		//iv开始执行动画 
		iv.startAnimation(ra);
3. 缩放

		ScaleAnimation sa = new ScaleAnimation(1.0f,2.0f, 1.0f, 2.0f, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);
		sa.setDuration(2000); //设置动画执行的时间
		sa.setRepeatCount(1); //设置重复的次数
		sa.setRepeatMode(Animation.REVERSE);//设置动画执行的模式
		//iv开始执行动画 
		iv.startAnimation(sa);
4. 位移

		TranslateAnimation ta = new TranslateAnimation
		(Animation.RELATIVE_TO_PARENT, 0, 
		Animation.RELATIVE_TO_PARENT, 0, 
		Animation.RELATIVE_TO_PARENT, 0, 
		Animation.RELATIVE_TO_PARENT, 0.2f);
		ta.setDuration(2000); //设置动画执行的时间
		ta.setFillAfter(true);//当动画结束后 动画停留在结束位置
		
		//开始动画
		iv.startAnimation(ta);

**总结:补间动画不会改变控件真实的坐标**

# 4. 使用xml文件方式定义补间动画
>在res下创建一个目录  `anim`目录.然后使用时只需要`Animation animation = AnimationUtils.loadAnimation(getApplicationContext(), R.anim.alpha);`即可获得该动画的实例.补间动画是开发中用的比较多的.

#5. 应用程序(apk)的反编译
	apktools 
	dex2jar  jd.exe 查看程序源码
Android逆向助手 直接有图形化操作界面    查看源码的话,需要在助手中选择`dex`转`jar`.
一般我们不会去看别人的源码,没必要,现在大多数应用程序都已经混淆代码了,看起来很费劲.我们主要是反编译获取里面的`res`目录下的东西,比如动画布局等等.

# 6. 属性动画

**属性动画会改变控件真实的坐标**

如果使用xml方式定义属性动画 要在res下创建一个animator目录

# 7. Manager
- SmsManager 短信
- TelephoneManager 电话管理者
- WindowManager 窗口管理者
- FragmentManager fragment管理者
- NotificationManager  通知管理者

# 8.通知栏 通知 介绍
>具体实现如下

		//1. 获取NotificationManager实例
		notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
		//创建打电话的Intent
		Intent intent = new Intent();
		intent.setAction(Intent.ACTION_CALL);
		intent.setData(Uri.parse("tel:"+112));
		//延时的Intent
		PendingIntent callPhone = PendingIntent.getActivity(getApplicationContext(), 1, intent,Intent.FLAG_ACTIVITY_NEW_TASK);
		//2. 创建Notification对象     这是高版本的写法    链式调用
		Notification notification = new Notification.Builder(this)
				.setContentTitle("我是大标题")
				.setContentText("我是内容")
				.setSmallIcon(R.drawable.ic_launcher)
				.setContentIntent(callPhone)
				.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher))
				.build();
		
		//实现呼吸灯闪烁   并且振动
		notification.defaults = Notification.DEFAULT_ALL;

		//3. 发送通知   id是通知的标识
		notificationManager.notify(10, notification);

		//取消通知
		notificationManager.cancel(10);

# 9. 服务与通知连用
>在服务的OnCreate()方法里写`startForeground(id, notification),`瞬间将服务提升为前台进程.这样这个进程就更不容易被系统杀死.
